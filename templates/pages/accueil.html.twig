{% extends "basefront.html.twig" %}

{% block body %}
    <h2>Bienvenue sur mon site personnel de présentation de mes voyages.</h2>
    <p>
        Dans la partie <a href="{{ path('voyages') }}">Voyages</a>, vous pouvez voir la liste des visites que j'ai faites dans différentes villes.<br>
        A chaque fois, j'ai précisé la ville visitée, le pays, j'ai mis une note (entre 0 et 20) et il y a aussi la date de la visite.<br>
        Vous pouvez trier la liste en fonction des villes, des pays, des notes et des dates, aussi bien dans l'ordre croissant que décroissant.<br>
        Vous pouvez aussi filtrer les visites par rapport à une ville ou un pays.<br>
        En cliquant sur la ville de la visite, vous pourrez avoir plus d'informations dessus: températures min et max, une description de la visite, les environnements (montagne, mer, désert...) et une photo.<br>
        Enfin, vous pouvez me contacter avec le formulaire de <a href='{{ path('contact') }}'>Contact</a>.
    </p>
    <p>
        Voici mes deux derniers voyages:
    </p>
    <div class="row mt-5"
         <p>
            {% if(twoLasts == null) %}
                Désolé, pas de voyages enregistrés!
            {% else %}
                {% for visite in twoLasts %}
                <div class='col'>
                    {% if visite.imagename %}
                        <img src="{{ app.request.getBasePath()~vich_uploader_asset(visite, 'imageFile') }}"
                             class="card-img-top" style="width:80%;height:auto">
                    {% else %}
                        <p>(aucune image)</p>
                    {% endif %}
                </div>
                <div class='col'>
                    <p>{{ visite.datecreationstring }}</p>
                    <p>
                    <h4><a href='{{ path('voyages.showone', {id:visite.id}) }}'>{{ visite.ville }}</a></h4><br>
                        {{ visite.pays }}
                    </p>
                    {% if visite.note < 10 %}
                        <div class="text-danger">
                            {{ visite.note }}/20
                        </div>
                    {% else %}
                        <div class="text-success">
                            {{ visite.note }}/20
                        </div>
                    {% endif %}<br>
                    t° entre {{ visite.tempmin }}° et {{ visite.tempmax }}°<br>
                    <strong>Environnements:</strong><br>
                    {% for environnement in visite.environnements %}
                        {{ environnement.nom }}
                    {% endfor %}
                </div>
            {% endfor %}
        {% endif %}
    </p>
</div>
{% endblock %}